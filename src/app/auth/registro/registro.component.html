<div class="flex items-center justify-center min-h-screen bg-gray-100">
  <div class="w-full max-w-lg bg-white rounded-lg shadow-md p-8">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
      Registro de Usuario
    </h2>
    <form [formGroup]="formulario" (ngSubmit)="registrar()" novalidate>
      <!-- Nombre -->
      <div class="mb-4">
        <label for="nombre" class="block text-gray-700 mb-2">Nombre</label>
        <input
          id="nombre"
          type="text"
          formControlName="nombre"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500': nombre.invalid && (nombre.dirty || nombre.touched)
          }"
          placeholder="Nombre"
        />
        <div
          *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)"
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="nombre.errors?.['required']">
            El nombre es obligatorio.
          </div>
        </div>
      </div>
      <!-- Apellidos -->
      <div class="mb-4">
        <label for="apellidos" class="block text-gray-700 mb-2"
          >Apellidos</label
        >
        <input
          id="apellidos"
          type="text"
          formControlName="apellidos"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500':
              apellidos.invalid && (apellidos.dirty || apellidos.touched)
          }"
          placeholder="Apellidos"
        />
        <div
          *ngIf="apellidos.invalid && (apellidos.dirty || apellidos.touched)"
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="apellidos.errors?.['required']">
            Los apellidos son obligatorios.
          </div>
        </div>
      </div>
      <!-- Email -->
      <div class="mb-4">
        <label for="email" class="block text-gray-700 mb-2"
          >Correo electrónico</label
        >
        <input
          id="email"
          type="email"
          formControlName="email"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500': email.invalid && (email.dirty || email.touched)
          }"
          placeholder="ejemplo@correo.com"
        />
        <div
          *ngIf="email.invalid && (email.dirty || email.touched)"
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="email.errors?.['required']">
            El correo es obligatorio.
          </div>
          <div *ngIf="email.errors?.['email']">Correo inválido.</div>
        </div>
      </div>
      <!-- CI -->
      <div class="mb-4">
        <label for="ci" class="block text-gray-700 mb-2">CI</label>
        <input
          id="ci"
          type="text"
          formControlName="ci"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500': ci.invalid && (ci.dirty || ci.touched)
          }"
          placeholder="Carnet de Identidad"
        />
        <div
          *ngIf="ci.invalid && (ci.dirty || ci.touched)"
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="ci.errors?.['required']">El CI es obligatorio.</div>
        </div>
      </div>
      <!-- Password -->
      <div class="mb-4">
        <label for="password" class="block text-gray-700 mb-2"
          >Contraseña</label
        >
        <input
          id="password"
          type="password"
          formControlName="password"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500':
              password.invalid && (password.dirty || password.touched)
          }"
          placeholder="********"
        />
        <div
          *ngIf="password.invalid && (password.dirty || password.touched)"
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="password.errors?.['required']">
            La contraseña es obligatoria.
          </div>
          <div *ngIf="password.errors?.['minlength']">Mínimo 6 caracteres.</div>
        </div>
      </div>
      <!-- Tipo de usuario -->
      <div class="mb-4">
        <label for="tipo_usuario" class="block text-gray-700 mb-2"
          >Tipo de usuario</label
        >
        <select
          id="tipo_usuario"
          formControlName="tipo_usuario"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500':
              tipo_usuario.invalid &&
              (tipo_usuario.dirty || tipo_usuario.touched)
          }"
        >
          <option value="" disabled selected>Seleccione un tipo</option>
          <option value="alum">Alumno</option>
        </select>
        <div
          *ngIf="
            tipo_usuario.invalid && (tipo_usuario.dirty || tipo_usuario.touched)
          "
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="tipo_usuario.errors?.['required']">
            El tipo de usuario es obligatorio.
          </div>
        </div>
      </div>
      <!-- Dirección -->
      <div class="mb-4">
        <label class="block text-gray-700 mb-2">Dirección</label>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <input
              type="text"
              formControlName="ciudad"
              placeholder="Ciudad"
              class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-2"
              [ngClass]="{
                'border-red-500':
                  ciudad.invalid && (ciudad.dirty || ciudad.touched)
              }"
            />
            <div
              *ngIf="ciudad.invalid && (ciudad.dirty || ciudad.touched)"
              class="text-red-500 text-sm mt-1"
            >
              <div *ngIf="ciudad.errors?.['required']">
                La ciudad es obligatoria.
              </div>
            </div>
          </div>
          <div>
            <input
              type="text"
              formControlName="zona"
              placeholder="Zona"
              class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-2"
              [ngClass]="{
                'border-red-500': zona.invalid && (zona.dirty || zona.touched)
              }"
            />
            <div
              *ngIf="zona.invalid && (zona.dirty || zona.touched)"
              class="text-red-500 text-sm mt-1"
            >
              <div *ngIf="zona.errors?.['required']">
                La zona es obligatoria.
              </div>
            </div>
          </div>
          <div>
            <input
              type="text"
              formControlName="calle"
              placeholder="Calle"
              class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-2"
              [ngClass]="{
                'border-red-500':
                  calle.invalid && (calle.dirty || calle.touched)
              }"
            />
            <div
              *ngIf="calle.invalid && (calle.dirty || calle.touched)"
              class="text-red-500 text-sm mt-1"
            >
              <div *ngIf="calle.errors?.['required']">
                La calle es obligatoria.
              </div>
            </div>
          </div>
          <div>
            <input
              type="number"
              formControlName="numero"
              placeholder="Número"
              class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-2"
              [ngClass]="{
                'border-red-500':
                  numero.invalid && (numero.dirty || numero.touched)
              }"
            />
            <div
              *ngIf="numero.invalid && (numero.dirty || numero.touched)"
              class="text-red-500 text-sm mt-1"
            >
              <div *ngIf="numero.errors?.['required']">
                El número es obligatorio.
              </div>
            </div>
          </div>
        </div>
        <input
          type="text"
          formControlName="referencia"
          placeholder="Referencia"
          class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
          [ngClass]="{
            'border-red-500':
              referencia.invalid && (referencia.dirty || referencia.touched)
          }"
        />
        <div
          *ngIf="referencia.invalid && (referencia.dirty || referencia.touched)"
          class="text-red-500 text-sm mt-1"
        >
          <div *ngIf="referencia.errors?.['required']">
            La referencia es obligatoria.
          </div>
        </div>
      </div>
      <!-- Submit -->
      <button
        type="submit"
        class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition-colors disabled:opacity-50"
        [disabled]="formulario.invalid"
      >
        Registrarse
      </button>
    </form>
  </div>
</div>
